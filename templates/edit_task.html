<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Task</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.css">
    <style>
        .bootstrap-tagsinput { width: 100%; }
    </style>
</head>
<body>
    <div class="navbar">
        Edit Task
    </div>
    <div class="container">
        <h2>Edit Task</h2>
        <form action="{{ url_for('tasks.edit_task', task_id=task['task_id']) }}" method="POST" class="add-task-form">
            <input type="text" name="task_name" value="{{ task['task_name'] }}" required>
            <input type="date" name="due_date" value="{{ task['due_date'] }}">
            <input type="text" name="tags" data-role="tagsinput" placeholder="Add tags"
                   value="{% if task['tags'] %}{{ ','.join(task['tags']) }}{% endif %}" list="all-tags">
            <datalist id="all-tags">
                {% for tag in all_tags %}
                    <option value="{{ tag }}">
                {% endfor %}
            </datalist>
            <button type="submit">Update Task</button>
        </form>
        <a href="{{ url_for('tasks.home') }}">Back to Dashboard</a>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.min.js"></script>
</body>
</html>